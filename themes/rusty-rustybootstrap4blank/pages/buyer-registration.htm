title = "Buyer-registration"
url = "/buyer-registration/:code?"
layout = "buyer-verification-layout"
is_hidden = 0

[account]
redirect = "/" 
paramCode = "code"
forceSecure = 0
==
<?php



public function onCheckEmail()
{
    return ['isTaken' => Auth::findUserByLogin(post('email')) ? 1 : 0];
}



?>

==
 


{% if not user %}


<div class="container" style="margin-top: -30px">
		<div class="starter-template" style="margin: -25px">
   
             <div class="card shadow-sm p-3 mb-5 bg-white rounded">
                <div class="card-body">
         
            {% if canRegister %}

    <h3 align="center">Buyer Account</h3>
    <h6 align="center" style="color: grey">Sign Up</h6>
    <hr>
   

    <form data-request="onRegister">

 <input style="display: none;" name="phone" type="text" id="user-phone" >  
    


    <div style="display: none;" id="sign-in-status"></div>
    <div style="display: none;" id="sign-in"></div>
    <pre style="display: none;" id="account-details"></pre>







    

    <div class="form-label-group">
    <input 
    name="name"
    type="text" 
    id="inputName" 
    class="form-control" 
    placeholder="Name/Company/Business Name" 
    required autofocus
    


    >

    <label for="inputName">Name/Company/Business Name</label>
  </div>



    <div class="form-label-group">
    <input 
    name="email"
    type="email" 
    id="inputEmail" 
    class="form-control" 
    placeholder="Email address" 
    required autofocus
    data-request="onCheckEmail"
    data-request-success="$('#loginTaken').toggle(!!data.isTaken)"
    data-track-input


    >

    <label for="inputEmail">Email address</label>
    <div id="loginTaken" class="alert alert-danger alert-danger-sm" style="display: none"><small>This Email already exist</small>
    
</div>
  </div>




    

      
       
        {% if loginAttribute == "username" %}
            <div class="form-group">
                  <div align="left"><small><b><label for="registerUsername">Username</label></b></small></div>
                <input
                    name="username"
                    type="text"
                    class="form-control form-control-sm field"
                    id="registerUsername"
                    placeholder="Enter your username" />
            </div>
        {% endif %}

      

         <div class="form-label-group">
    <input 
    name="password"
    type="password" 
    id="password" 
   class="form-control" 
    placeholder="Password" 
    pattern=".{6,}"
    autofocus
    required title="6 characters minimum" 
    


    >

    <label for="inputPassword">Password</label>
  </div>



  <div class="form-label-group">
    <input 
    name="password_confirmation"
    type="password" 
    id="confirm_password" 
   class="form-control" 
    placeholder="Password Confirmation" 
    required autofocus
    


    >

    <label for="inputPassword">Password Confirmation</label>
  </div>

         
       
            
               
               <small style="color: grey" >By clicking on Register, you agree to the Merch Terms of Service and Privacy Policy</small><br><br>

               <div id="flash-div"></div>
           
    <div align="center"> <button id="shownow" type="submit" style="background-color: #08172A; color: white"  class="btn btn-sm rounded--lg-pill shadow rounded col-6" >Register</button></div>


 






 
       
    </form>
    <br>
    <div style="margin: -30px">
    {% partial 'homescreen' %}
</div>
    <br>
{% else %}
    <!-- Registration is disabled. -->
{% endif %}

</div>
</div>

        </div>
    </div>

  
{% else %}

    {% partial __SELF__ ~ '::activation_check' %}

{% endif %}






